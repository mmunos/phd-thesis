%!TEX root = ../main/main.tex

\def\xfac{1.0}
\def\xcoors{{0,1*\xfac,3*\xfac,5*\xfac,7*\xfac,9*\xfac,11*\xfac,13*\xfac}}
\def\ycoors{{5.5 , 5 , 4.5 , 4 , 0.9 , 0.4 , 3 , 2.5 , 2 , 1.5 , 6 , 6.3}}
\newcommand{\rectang}[4]{\draw[-,dashed,gray] (#1-#2,#3) -- (#1+#2,#3) -- (#1+#2,#3-#4) -- (#1-#2,#3-#4) -- (#1-#2,#3)}
\def\tprod{\footnotesize {\sf pr}}
\def\tunion{\footnotesize {\sf un}}
\begin{figure}[t]
	\begin{tikzpicture}[xscale=1.02,->,>=stealth',shorten >=1pt,auto,node distance=2cm,thick,inner sep=0.5pt, rectangle]
		
		%		\node at (\xcoors[0],\ycoors[11]) {$\Stream \ \ \  :$};
		\node at (\xcoors[1]+1,\ycoors[11]) {\large{\tt <}};
		\node at (\xcoors[2]+1,\ycoors[11]) {\large{\tt <}};
		\node at (\xcoors[3]+1,\ycoors[11]) {\large{\tt >}};
		\node at (\xcoors[4]+1,\ycoors[11]) {\large{\tt <}};
		\node at (\xcoors[5]+1,\ycoors[11]) {\large{\tt >}};
		\node at (\xcoors[6]+1,\ycoors[11]) {\large{\tt >}};
		
		\node at (\xcoors[1],\ycoors[10]) {\small 1};
		\node at (\xcoors[2],\ycoors[10]) {\small 2};
		\node at (\xcoors[3],\ycoors[10]) {\small 3};
		\node at (\xcoors[4],\ycoors[10]) {\small 4};
		\node at (\xcoors[5],\ycoors[10]) {\small 5};
		\node at (\xcoors[6],\ycoors[10]) {\small 6};
		\node at (\xcoors[7],\ycoors[10]) {\small 7};
	
		\draw[-,dashed,gray](\xcoors[1]-0.5,0.05) -- (\xcoors[1] + 0.95,0.05);
		\rectang{\xcoors[2]}{0.95}{1.15}{1.1};
		\rectang{\xcoors[3]}{0.95}{1.15}{1.1};
		\rectang{\xcoors[4]}{0.95}{1.15}{1.1};
		\rectang{\xcoors[5]}{0.95}{1.15}{1.1};
		\rectang{\xcoors[6]}{0.95}{1.15}{1.1};
		\draw[-,dashed,gray](\xcoors[7] - 0.95,0.05) -- (\xcoors[7] + 0.95,0.05);
		
		\rectang{\xcoors[3]}{0.95}{3.25}{2};
		\rectang{\xcoors[5]}{0.95}{3.25}{2};
		
		%		\draw[-] (-0.7,4.75) -- (12.5,4.75);
		%		\draw[-,dashed] (-0.7,2.75) -- (0.7,2.75);
		%		\draw[-] (-0.7,1.75) -- (12.5,1.75);
		%		\draw[-] (-0.7,-0.25) -- (12.5,-0.25);
		
		%		\node at (\xcoors[0]-0.9,\ycoors[0]) {\large $S:$};
		%		\node at (\xcoors[0]-0.9,\ycoors[4]) {\large $T_1$};
		%		\node at (\xcoors[0]-0.9,\ycoors[6]) {\large $T:$};
		
		%		\node (labelS_11) at (\xcoors[0],\ycoors[0]) {\footnotesize $1,1$};
		%		\node (labelS_22) at (\xcoors[0],\ycoors[1]) {\footnotesize$2,2$};
		%		\node (labelS_13) at (\xcoors[0],\ycoors[2]) {\footnotesize$1,3$};
		%		\node (labelS_33) at (\xcoors[0],\ycoors[3]) {\footnotesize$3,3$};
		%		\node (labelT1_1x1) at (\xcoors[0],\ycoors[4]) {\footnotesize$1,\textsf{X},1$};
		%		\node (labelT1_1y2) at (\xcoors[0],\ycoors[5]) {\footnotesize$1,\textsf{Y},2$};
		%		\node (labelT2_1x1) at (\xcoors[0],\ycoors[6]) {\footnotesize$1,\textsf{X},1$};
		%		\node (labelT2_1y2) at (\xcoors[0],\ycoors[7]) {\footnotesize$1,\textsf{Y},2$};
		%		\node (labelT2_2x2) at (\xcoors[0],\ycoors[8]) {\footnotesize$2,\textsf{X},2$};
		%		\node (labelT2_1x3) at (\xcoors[0],\ycoors[9]) {\footnotesize$1,\textsf{X},q_p$};
		
		\node (S_11_1) at (\xcoors[1],\ycoors[0]) {\tiny$S^1_{{\sf p},{\sf p}}\!\!: \{\eps\}$};
		
		\node (S_11_2) at (\xcoors[2],\ycoors[0]) {\tiny$S^2_{{\sf p},{\sf p}}\!\!: \{\eps\}$};
		\node (S_22_2) at (\xcoors[2],\ycoors[1]) {\tiny$S^2_{{\sf q},{\sf q}}\!\!: \{\eps\}$};
		
		\node (S_11_3) at (\xcoors[3],\ycoors[0]) {\tiny$S^3_{{\sf p},{\sf p}}\!\!: \{\eps\}$};
		\node (S_22_3) at (\xcoors[3],\ycoors[1]) {\tiny$S^3_{{\sf q},{\sf q}}\!\!:\{\eps\}$};
		
		\node[anchor=west] (S_11_4) at (\xcoors[4]-1.0,\ycoors[0]) {\tiny$S^4_{{\sf p},{\sf p}}\!\!: T^3_{{\sf p},{\sf X},{\sf p}}\!\cdot S^3_{{\sf p},{\sf p}}$};
		\node[anchor=west] (S_22_4) at (\xcoors[4]-1.0,\ycoors[1]) {\tiny$S^4_{{\sf q},{\sf q}}\!\!:T^3_{{\sf q},{\sf X},{\sf q}}\!\cdot S^3_{{\sf q},{\sf q}}$};
		\node[anchor=west] (S_13_4) at (\xcoors[4]-1.0,\ycoors[2]) {\tiny$S^4_{{\sf p},{\sf r}}\!\!:T^3_{1,\textsf{Y}, 2}\!\cdot S^3_{{\sf q},{\sf q}}\cdot\{\!(\triangleleft,3)\!\}$};
		
		\node (S_11_5) at (\xcoors[5],\ycoors[0]) {\tiny$S^5_{{\sf p},{\sf p}}\!\!: \{\eps\}$};
		\node (S_22_5) at (\xcoors[5],\ycoors[1]) {\tiny$S^5_{{\sf q},{\sf q}}\!\!:\{\eps\}$};
		\node (S_33_5) at (\xcoors[5],\ycoors[3]) {\tiny$S^5_{{\sf r},{\sf r}}\!\!:\{\eps\}$};
		
		\node[anchor=west] (S_11_6) at (\xcoors[6]-1.0,\ycoors[0]) {\tiny$S^6_{{\sf p},{\sf p}}\!\!: T^5_{{\sf p},{\sf X},{\sf p}}\!\cdot S^5_{{\sf p},{\sf p}}$};
		\node[anchor=west] (S_22_6) at (\xcoors[6]-1.0,\ycoors[1]) {\tiny$S^6_{{\sf q},{\sf q}}\!\!: T^5_{{\sf q},{\sf X},{\sf q}}\!\cdot S^5_{{\sf q},{\sf q}}$};
		\node[anchor=west] (S_13_6) at (\xcoors[6]-1.0,\ycoors[2]) {\tiny$S^6_{{\sf p},{\sf r}}\!\!:$};
		\node[anchor=west] (S_13_6a) at (\xcoors[6]-0.75,\ycoors[2]-0.5) {\tiny$T^5_{{\sf p},{\sf Y},{\sf q}}\!\cdot S^5_{{\sf q},{\sf q}}\!\cdot \{\!(\triangleleft,5)\!\}$};
		\node[anchor=west] (S_13_6b) at (\xcoors[6]-0.75,\ycoors[2]-1) {\tiny$\cup \ \, T^5_{{\sf p},{\sf X},{\sf r}}\!\cdot S^5_{{\sf r},{\sf r}}$};
		
		
		\node[anchor=west] (S_11_7) at (\xcoors[7]-0.9,\ycoors[0]) {\tiny$S^7_{{\sf p},{\sf p}}\!\!: T^2_{{\sf p},{\sf X},{\sf p}}\!\cdot S^6_{{\sf p},{\sf p}}$};
		\node[anchor=west] (S_13_7) at (\xcoors[7]-0.9,\ycoors[2]) {\tiny$S^7_{{\sf p},{\sf r}}\!\!:$};
		\node[anchor=west] (S_13_7a) at (\xcoors[7]-0.6,\ycoors[2]-0.5) {\tiny$T^2_{{\sf p},{\sf Y},{\sf q}}\!\cdot S^6_{{\sf q},{\sf q}}\!\cdot \{\!(\triangleleft,6)\!\}$};
		\node[anchor=west] (S_13_7b) at (\xcoors[7]-0.6,\ycoors[2]-1) {\tiny$\cup \ \,  T^2_{{\sf p},{\sf X},{\sf r}}\!\cdot S^6_{{\sf r},{\sf r}}$};
		
		\node[anchor=west]  (T1_1x1_2) at (\xcoors[2]-0.9, \ycoors[4]) {\scriptsize$T^2_{{\sf p},{\sf X},{\sf p}}\!\!: S^1_{{\sf p},{\sf p}}$};
		%		\node[text width=1.65cm,anchor=north west,execute at begin node=\setlength{\baselineskip}{0.5em},align=right] (T1_1y2_2) at (\xcoors[2]-0.85, \ycoors[5]+0.55) {\scriptsize$T^2_{2,\textsf{Y},2}\!\!:\textsf{p}(\,\,$ $\ \ S^1_{{\sf p},{\sf p}}, (\triangleright,1))$};
		\node[anchor=west] (T1_1y2_2) at (\xcoors[2]-0.9, \ycoors[5]) {\tiny$T^2_{{\sf p},{\sf Y},{\sf q}}\!\!:S^1_{{\sf p},{\sf p}}\!\cdot\{\!(\triangleright,1)\!\}$};
		
		\node (T1_1x1_3) at (\xcoors[3], \ycoors[4]) {\tiny$T^2_{{\sf p},{\sf X},{\sf p}}$};
		\node(T1_1y2_3) at (\xcoors[3], \ycoors[5]) {\tiny$T^2_{{\sf p},{\sf Y},{\sf q}}$};
		
		\node (T1_1x1_4) at (\xcoors[4], \ycoors[4]) {\tiny$T^2_{{\sf p},{\sf X},{\sf p}}$};
		\node(T1_1y2_4) at (\xcoors[4], \ycoors[5]) {\tiny$T^2_{{\sf p},{\sf Y},{\sf q}}$};
		
		\node (T1_1x1_5) at (\xcoors[5], \ycoors[4]) {\tiny$T^2_{{\sf p},{\sf X},{\sf p}}$};
		\node(T1_1y2_5) at (\xcoors[5], \ycoors[5]) {\tiny$T^2_{{\sf p},{\sf Y},{\sf q}}$};
		
		\node (T1_1x1_6) at (\xcoors[6], \ycoors[4]) {\tiny$T^2_{{\sf p},{\sf X},{\sf p}}$};
		\node(T1_1y2_6) at (\xcoors[6], \ycoors[5]) {\tiny$T^2_{{\sf p},{\sf Y},{\sf q}}$};
		
		
		\node[anchor=west]  (T2_1x1_3) at (\xcoors[3]-0.9, \ycoors[6]) {\tiny$T^3_{{\sf p},{\sf X},{\sf p}}\!\!: S^2_{{\sf p},{\sf p}}$};
		\node[anchor=west]  (T2_1y2_3) at (\xcoors[3]-0.9, \ycoors[7]) {\tiny$T^3_{{\sf p},{\sf Y},{\sf q}}\!\!:S^2_{{\sf p},{\sf p}}\!\cdot\{\!(\triangleright,2)\!\}$};
		\node[anchor=west]  (T2_2x2_3) at (\xcoors[3]-0.9, \ycoors[8]) {\tiny$T^3_{{\sf q},{\sf X},{\sf q}}\!\!:S^2_{{\sf q},{\sf q}}$};
		
		\node[anchor=west]  (T2_1x1_5) at (\xcoors[5]-0.9, \ycoors[6]) {\tiny$T^5_{{\sf p},{\sf X},{\sf p}}\!\!:S^4_{{\sf p},{\sf p}}$};
		\node[anchor=west]  (T2_1y2_5) at (\xcoors[5]-0.9, \ycoors[7]) {\tiny$T^5_{{\sf p},{\sf Y},{\sf q}}\!\!:S^4_{{\sf p},{\sf p}}\!\cdot\{\!(\triangleright,4)\!\}$};
		\node[anchor=west]  (T2_2x2_5) at (\xcoors[5]-0.9, \ycoors[8]) {\tiny$T^5_{{\sf q},{\sf X},{\sf q}}\!\!:S^2_{{\sf q},{\sf q}}$};
		\node[anchor=west]  (T2_1x3_5) at (\xcoors[5]-0.9, \ycoors[9]) {\tiny$T^5_{{\sf p},{\sf X},{\sf r}}\!\!:S^4_{{\sf p},{\sf r}}$};
		
		%		\def\edgea{\draw[gray,out=110,in=-50]}
		%		\def\edgeb{\draw[gray]}
		%		\def\edgec{\draw[gray,out=220,in=20]}
		%		
		%		\draw[gray] (T1_1x1_2) to (S_11_1);
		%		\edgeb (T1_1y2_2.west) to (S_11_1);
		%		\draw[gray] (T1_1y2_2.west) to (out1.east);
		%		
		%		\edgec (T2_1x1_3) to (S_11_2);
		%		\edgec (T2_1y2_3.west) to (S_11_2);
		%		\edgec (T2_2x2_3) to (S_22_2);
		%		\draw[gray] (T2_1y2_3.west) to (out2.east);
		%		
		%		\edgea (S_11_4.west) to (T2_1x1_3.east);
		%		\draw[gray] (S_11_4.west) to (S_11_3.east);
		%		\edgea (S_22_4.west) to (T2_2x2_3.east);
		%		\draw[gray] (S_22_4.west) to (S_22_3.east);
		%		\edgea (S_13_4.west) to (T2_1y2_3.east);
		%		\draw[gray] (S_13_4.west) to (S_22_3.east);
		%		\draw[gray] (S_13_4.west) to (out3.east);
		%		
		%		\edgec[gray!40] (T2_1x1_5.west) to (S_11_4.east);
		%		\edgec (T2_1y2_5.west) to (S_11_4.east);
		%		\edgec (T2_2x2_5.west) to (S_22_4.east);
		%		\edgec (T2_1x3_5.west) to (S_13_4.east);
		%		\draw[gray] (T2_1y2_5.west) to (out4.east);
		%		
		%		\edgea[gray!40] (S_11_6.west) to (T2_1x1_5.east);
		%		\draw[gray!40] (S_11_6.west) to (S_11_5.east);
		%		\edgea (S_22_6.west) to (T2_2x2_5.east);
		%		\draw[gray] (S_22_6.west) to (S_22_5.east);
		%		\edgea (S_13_6a.west) to (T2_1y2_5.east);
		%		\draw[gray] (S_13_6a.west) to (S_22_5.east);
		%		\edgea (S_13_6b.west) to (T2_1x3_5.east);
		%		\draw[gray] (S_13_6b.west) to (S_33_5.east);
		%		\draw[gray,-] (S_13_6.west) to (S_13_6a.east);
		%		\draw[gray,-] (S_13_6.west) to (S_13_6b.east);
		%		\draw[gray] (S_13_6a.west) to (out5.east);
		%		
		%		\draw[gray!40,out=150,in=-20] (S_11_7.west) to (T1_1x1_6);
		%		\draw[gray!40] (S_11_7.west) to (S_11_6.east);
		%		\draw[gray,out=150,in=-20] (S_13_7a.west) to (T1_1y2_6);
		%		\draw[gray] (S_13_7a.west) to (S_22_6.east);
		%		\draw[gray,out=130,in=-20] (S_13_7b.west) to (T1_1x1_6);
		%		\draw[gray] (S_13_7b.west) to (S_13_6.east);
		%		\draw[gray,-] (S_13_7.west) to (S_13_7a.east);
		%		\draw[gray,-] (S_13_7.west) to (S_13_7b.east);
		%		\draw[gray] (S_13_7a.west) to (out6);
	\end{tikzpicture}	

\vspace{1em}

	\begin{tikzpicture}[xscale=1.0,yscale=0.5,->,>=stealth',shorten >=1pt,auto,node distance=2cm,inner sep=1pt, rectangle, node distance=1pt]
		\draw[white] (\xcoors[1]-0.5, 5) -- (\xcoors[7]+0.98,5);
		\node[anchor=east] (s1_11) at (\xcoors[1],5) {$S^1_{{\sf p},{\sf p}}\!:$};
		\node[draw, circle, right=of s1_11] (s1_11_u) {$\eps$};
		
		\node[anchor=east] (s2_11) at (\xcoors[2],5) {$S^2_{{\sf p},{\sf p}}\!:$};
		\node[anchor=east] (s2_22) at (\xcoors[2],4) {$S^2_{{\sf q},{\sf q}}\!:$};
		\node[anchor=east] (t2_1x1) at (\xcoors[2],3) {$T^2_{{\sf p},{\sf X},{\sf p}}\!:$};
		\node[anchor=east] (t2_1y2) at (\xcoors[2],2) {$T^2_{{\sf p},{\sf Y},{\sf q}}\!:$};
		\node[draw, circle, right=of s2_11] (s2_11_u) {$\eps$};
		\node[draw, circle, right=of s2_22] (s2_22_u) {$\eps$};
		\node[draw, circle, right=of t2_1x1] (t2_1x1_u) {$\eps$};
		\node[rectangle, node distance=0pt, inner sep=0pt, right=of t2_1y2] (t2_1y2_u) {\scriptsize$(\triangleright,1)$};
		
		\node[anchor=east] (s3_11) at (\xcoors[3],5) {$S^3_{{\sf p},{\sf p}}\!:$};
		\node[anchor=east] (s3_22) at (\xcoors[3],4) {$S^3_{{\sf q},{\sf q}}\!:$};
		\node[anchor=east] (t3_1x1) at (\xcoors[3],3) {$T^3_{{\sf p},{\sf X},{\sf p}}\!:$};
		\node[anchor=east] (t3_1y2) at (\xcoors[3],2) {$T^3_{{\sf p},{\sf Y},{\sf q}}\!:$};
		\node[anchor=east] (t3_2x2) at (\xcoors[3],1) {$T^3_{{\sf q},{\sf X},{\sf q}}\!:$};
		\node[draw, circle, right=of s3_11] {$\eps$};
		\node[draw, circle, right=of s3_22] {$\eps$};
		\node[draw, circle, right=of t3_1x1] {$\eps$};
		\node[node distance=0pt, inner sep=0pt, right=of t3_1y2] {\scriptsize$(\triangleright,2)$};
		\node[draw, circle, right=of t3_2x2] {$\eps$};
		
		\node[anchor=east] (s4_11) at (\xcoors[4],5) {$S^4_{{\sf p},{\sf p}}\!:$};
		\node[anchor=east] (s4_22) at (\xcoors[4],4) {$S^4_{{\sf q},{\sf q}}\!:$};
		\node[anchor=east] (s4_13) at (\xcoors[4],3) {$S^4_{{\sf p},{\sf r}}\!:$};
		\node[draw, circle, right=of s4_11] {$\eps$};
		\node[draw, circle, right=of s4_22] {$\eps$};
		\node[node distance=2pt, inner sep=1pt, right=of s4_13] (s4_13_u) {$\odot$};
		\node[node distance=0pt, inner sep=0pt, below left= 1em and -0.2em of s4_13_u] (s4_13_u1) {\scriptsize$(\triangleleft,2)$};
		\draw (s4_13_u) to (s4_13_u1);
		\node[node distance=0pt, inner sep=0pt, below right= 1em and -0.2em of s4_13_u] (s4_13_u2) {\scriptsize$(\triangleleft,3)$};
		\draw (s4_13_u) to (s4_13_u2);
		
		\node[anchor=east] (s5_11) at (\xcoors[5],5) {$S^5_{{\sf p},{\sf p}}\!:$};
		\node[anchor=east] (s5_22) at (\xcoors[5],4) {$S^5_{{\sf q},{\sf q}}\!:$};
		\node[anchor=east] (s5_33) at (\xcoors[5],3) {$S^5_{{\sf r},{\sf r}}\!:$};
		\node[anchor=east] (t5_1x1) at (\xcoors[5],2) {$T^5_{{\sf p},{\sf X},{\sf p}}\!:$};
		\node[anchor=east] (t5_1y2) at (\xcoors[5],1) {$T^5_{{\sf p},{\sf Y},{\sf q}}\!:$};
		\node[anchor=east] (t5_2x2) at (\xcoors[5],0) {$T^5_{{\sf q},{\sf X},{\sf q}}\!:$};
		\node[anchor=east] (t5_1x3) at (\xcoors[5],-1) {$T^5_{{\sf p},{\sf X},{\sf r}}\!:$};
		\node[draw, circle, right=of s5_11] {$\eps$};
		\node[draw, circle, right=of s5_22] {$\eps$};
		\node[draw, circle, right=of s5_33] {$\eps$};
		\node[draw, circle, right=of t5_1x1] {$\eps$};
		\node[node distance=0pt, inner sep=0pt, right=of t5_1y2] {\scriptsize$(\triangleright,4)$};
		\node[draw, circle, right=of t5_2x2] {$\eps$};
		\node[node distance=2pt, inner sep=1pt, right=of t5_1x3] (t5_1x3_u) {$\odot$};
		\node[node distance=0pt, inner sep=0pt, below left= 1em and -0.2em of t5_1x3_u] (t5_1x3_u1) {\scriptsize$(\triangleleft,2)$};
		\draw (t5_1x3_u) to (t5_1x3_u1);
		\node[node distance=0pt, inner sep=0pt, below right= 1em and -0.2em of t5_1x3_u] (t5_1x3_u2) {\scriptsize$(\triangleleft,3)$};
		\draw (t5_1x3_u) to (t5_1x3_u2);
		
		\node[anchor=east] (s6_11) at (\xcoors[6],5) {$S^6_{{\sf p},{\sf p}}\!:$};
		\node[anchor=east] (s6_22) at (\xcoors[6],4) {$S^6_{{\sf q},{\sf q}}\!:$};
		\node[anchor=east] (s6_13) at (\xcoors[6],3) {$S^6_{{\sf p},{\sf r}}\!:$};
		\node[draw, circle, right=of s6_11] {$\eps$};
		\node[draw, circle, right=of s6_22] {$\eps$};
		\node[node distance=2pt, inner sep=1pt, right=of s6_13] (s6_13_u) {\small$\cup$};
		
		\node[node distance=0pt, inner sep=0pt, below left= 0.8em and 0.4em of s6_13_u] (s6_13_u1) {\raisebox{1.0pt}{$\odot$}};
		\draw (s6_13_u) to (s6_13_u1);
		\node[node distance=0pt, inner sep=0pt, below left= 1em and -0.5em of s6_13_u1] (s6_13_u11) {\scriptsize$(\triangleright,4)$};
		\draw (s6_13_u1) to (s6_13_u11);
		\node[node distance=0pt, inner sep=0pt, below right= 1em and -0.5em of s6_13_u1] (s6_13_u12) {\scriptsize$(\triangleleft,5)$};
		\draw (s6_13_u1) to (s6_13_u12);
		
		\node[node distance=0pt, inner sep=0pt, below right= 1.7em and 0.4em of s6_13_u] (s6_13_u2) {\raisebox{1.0pt}{$\odot$}};
		\draw (s6_13_u) to (s6_13_u2);
		\node[node distance=0pt, inner sep=0pt, below left= 1em and -0.5em of s6_13_u2] (s6_13_u21) {\scriptsize$(\triangleright,2)$};
		\draw (s6_13_u2) to (s6_13_u21);
		\node[node distance=0pt, inner sep=0pt, below right= 1em and -0.5em of s6_13_u2] (s6_13_u22) {\scriptsize$(\triangleleft,3)$};
		\draw (s6_13_u2) to (s6_13_u22);
		
		
		\node[anchor=east] (s7_11) at (\xcoors[7],5) {$S^7_{{\sf p},{\sf p}}\!:$};
		\node[draw, circle, right=of s7_11] {$\eps$};
		\node[anchor=east] (s7_13) at (\xcoors[7],4) {$S^7_{{\sf p},{\sf r}}\!:$};
		\node[node distance=2pt, inner sep=1.0pt, right=of s7_13] (s7_13_u) {\small$\cup$};
		
		\node[node distance=0pt, inner sep=0.5pt, below left= 0.8em and 0.3em of s7_13_u] (s7_13_u1) {\raisebox{1.0pt}{$\odot$}};
		\draw (s7_13_u) to (s7_13_u1);
		\node[node distance=0pt, inner sep=0pt, below left= 1em and -0.5em of s7_13_u1] (s7_13_u11) {\scriptsize$(\triangleright,1)$};
		\draw (s7_13_u1) to (s7_13_u11);
		\node[node distance=0pt, inner sep=0pt, below right= 1em and -0.5em of s7_13_u1] (s7_13_u12) {\scriptsize$(\triangleleft,6)$};
		\draw (s7_13_u1) to (s7_13_u12);
		
		\node[node distance=0pt, inner sep=1.0pt, below right= 1.7em and 0.3em of s7_13_u] (s7_13_u2) {$\small\cup$};
		\draw (s7_13_u) to (s7_13_u2);
		
		\node[node distance=0pt, inner sep=0pt, below left= 1.0em and 0.2em of s7_13_u2] (s7_13_u21) {\raisebox{1.0pt}{$\odot$}};
		\draw (s7_13_u2) to (s7_13_u21);
		\node[node distance=0pt, inner sep=0pt, below left= 1em and -0.5em of s7_13_u21] (s7_13_u211) {\scriptsize$(\triangleright,4)$};
		\draw (s7_13_u21) to (s7_13_u211);
		\node[node distance=0pt, inner sep=0pt, below right= 1em and -0.5em of s7_13_u21] (s7_13_u212) {\scriptsize$(\triangleleft,5)$};
		\draw (s7_13_u21) to (s7_13_u212);
		
		\node[node distance=0pt, inner sep=0pt, below right= 2.2em and 0.2em of s7_13_u2] (s7_13_u22) {\raisebox{1.0pt}{$\odot$}};
		\draw (s7_13_u2) to (s7_13_u22);
		\node[node distance=0pt, inner sep=0pt, below left= 1.2em and -0.5em of s7_13_u22] (s7_13_u221) {\scriptsize$(\triangleright,2)$};
		\draw (s7_13_u22) to (s7_13_u221);
		\node[node distance=0pt, inner sep=0pt, below right= 1.2em and -0.5em of s7_13_u22] (s7_13_u222) {\scriptsize$(\triangleleft,3)$};
		\draw (s7_13_u22) to (s7_13_u222);
		
	\end{tikzpicture}
	\caption{Example of running Algorithm~\ref{nested:alg:preprocessing} over the VPAnn $\cT$ from Figure~\ref{nested:fig-vpann-ex} and a stream $\Stream$ such that $\Stream[1,6] = {\tt < < > < > >}$.
	The bottom part illustrates the state of $\cD$, and the node from $\cD$ that is stored at every new index at each step.}
	\label{nested:fig-alg-ex}
\end{figure}