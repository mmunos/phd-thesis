The problem of streaming query evaluation has been extensively studied in the last decades. Some work considered streaming verification, like schema validation~\cite{SegoufinV02} or type-checking~\cite{KumarMV07}, where the output is true or false. Other proposals~\cite{ChenDZ06,OlteanuFB04,JosifovskiFB05,GreenGMOS04,Olteanu07} provided streaming algorithms for XPath or XQuery's fragments; however, extending them for reaching constant-delay enumeration seems unlikely. Furthermore, most of these works~\cite{KumarMV07,GouC07,GauwinNT09} assumed outputs of fixed size (i.e., tuples). People have also considered other aspects of streaming evaluation with outputs like earliest query answering~\cite{GauwinNT09} or bounded delay~\cite{DBLP:conf/lata/GauwinNT09} (i.e., given the first visit of a node, find the earliest event that permits its selection). These aspects are orthogonal to the problem studied here.
Another line of research is~\cite{BarYossefFJ05,BarYossefFJ07}, which presents space lower bounds for evaluating fragments of XPath or XQuery over streams. These works do not consider restrictions on the delay to give outputs.  

Visibly pushdown automata~\cite{AlurM04} {are} a model usually used for streaming evaluation of boolean queries~\cite{KumarMV07}. 
In~\cite{FiliotGRS19,AlurFMRS20}, the authors studied the evaluation of transducers built from visibly pushdown automata in a streaming fashion, but none of them {saw} enumeration problems. 
Other extensions~\cite{GauwinNR08} for streaming evaluation have been analyzed but restricted to fixed-size outputs, and constant delay was not included. 

Constant-delay algorithms have been studied for several classes of query languages and structures~\cite{Segoufin13}, as we already discussed. In~\cite{Bagan06,AmarilliBJM17}, researchers considered query evaluation over trees (i.e., a different representation {for} nested documents), but their algorithms are for offline evaluation, and {it is not clear how to extend this algorithm for the online setting}. 
This research is extended with updates in~\cite{AmarilliBMN19pods}, which can encode streams by inserting new data items to the left. However, their update-time is logarithmic, whereas our proposal can do it with constant time~(i.e., in data complexity).
Furthermore, to the best of our knowledge, it is unclear how to modify the work in~\cite{AmarilliBMN19pods} to get constant update-time in our scenario.

Streaming evaluation with constant-delay enumeration was included in the context of dynamic query evaluation~{\cite{IdrisUV17,BerkholzKS17,NikolicO18,0002NOZ20}} or complex event processing~\cite{GrezRU19,GrezR20}. In both cases, the input cannot encode nested documents, and their results do not apply.